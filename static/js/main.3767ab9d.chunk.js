(this["webpackJsonpget-users"]=this["webpackJsonpget-users"]||[]).push([[0],{13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(6),l=a.n(s),c=a(1),o=a(2),u=a(4),i=a(3),m=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).deleteHandler=function(e){fetch("https://asoat.herokuapp.com/api/users/delete",{method:"DELETE",body:JSON.stringify({id:e}),headers:{Accept:"*/*","Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user,a=t._id,n=t.firstName,s=t.lastName,l=t.email,c=t.password,o=t.userStatus;return r.a.createElement("tr",null,r.a.createElement("td",null,n),r.a.createElement("td",null,s),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,o),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(t){e.deleteHandler(a),e.props.refresh()}},"Delete")))}}]),a}(r.a.Component),h=a(7),f=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={firstName:"",lastName:"",email:"",password:"",userStatus:"user"},e.formHandler=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.formSubmit=function(t){e.formValidation()&&fetch("https://asoat.herokuapp.com/api/users/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state)}).then((function(e){return e.text()})).then((function(t){console.log(t),e.props.refresh(),e.clearFields()})).catch((function(e){console.log(e)}))},e.formValidation=function(){return""!==e.state.firstName&&""!==e.state.lastName&&""!==e.state.email&&""!==e.state.password},e.clearFields=function(){e.setState({firstName:"",lastName:"",email:"",password:"",userStatus:"user"})},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{className:"form-control",type:"text",name:"firstName",value:this.state.firstName,onChange:this.formHandler})),r.a.createElement("td",null,r.a.createElement("input",{className:"form-control",type:"text",name:"lastName",value:this.state.lastName,onChange:this.formHandler})),r.a.createElement("td",null,r.a.createElement("input",{className:"form-control",type:"text",name:"email",value:this.state.email,onChange:this.formHandler})),r.a.createElement("td",null,r.a.createElement("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:this.formHandler})),r.a.createElement("td",null,r.a.createElement("select",{name:"userStatus",className:"form-control",value:this.state.userStatus,onChange:this.formHandler},r.a.createElement("option",{value:"user"},"User"),r.a.createElement("option",{value:"admin"},"Admin"))),r.a.createElement("td",null," ",r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",onClick:this.formSubmit})))}}]),a}(n.Component),d=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={users:[],refresh:!1},e.fetchUsers=function(){fetch("https://asoat.herokuapp.com/api/users").then((function(e){return e.json()})).then((function(t){e.setState({users:t.users}),e.setState({refresh:!1})})).catch((function(e){console.log(e)}))},e.refreshUsers=function(){e.setState({refresh:!0})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchUsers()}},{key:"render",value:function(){var e=this;return!0===this.state.refresh&&this.fetchUsers(),r.a.createElement("table",{className:"table table-dark mt-4"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Encrypted Password"),r.a.createElement("th",null,"User Status"))),r.a.createElement("tbody",null,this.state.users.map((function(t){return r.a.createElement(m,{key:t._id,user:t,refresh:e.refreshUsers})})),r.a.createElement(f,{refresh:this.refreshUsers})))}}]),a}(r.a.Component);var p=function(){return r.a.createElement("header",{className:"bg-dark text-white p-3 font-weight-bold"},"Get Users From Express JS Server")};var E=function(){return r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(d,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root"))},8:function(e,t,a){e.exports=a(13)}},[[8,1,2]]]);
//# sourceMappingURL=main.3767ab9d.chunk.js.map